{"version":3,"sources":["js/setup-form-validator.js"],"names":["uuidFromWebcalLink","link","match","window","addEventListener","Array","from","document","getElementsByClassName","forEach","form","event","preventDefault","stopPropagation","checkValidity","getElementById","setAttribute","style","display","el","classList","add","localStorage","removeItem","open","value"],"mappings":";AAAA,IAAMA,EAAqB,SAAAC,GACvBA,OAAAA,EAAKC,MAAM,0FACfC,OAAOC,iBAAiB,OAAQ,WAC5BC,MAAMC,KAAKC,SAASC,uBAAuB,qBAAqBC,QAAQ,SAAAC,GACpEA,OAAAA,EAAKN,iBACD,SACA,SAAAO,GACIA,EAAMC,iBACND,EAAME,kBACDH,EAAKI,iBAINP,SAASQ,eAAe,iBAAiBC,aAAa,QAAS,oBAC/DT,SAASQ,eAAe,WAAWE,MAAMC,QAAU,OACnDX,SAASQ,eAAe,mBAAmBC,aAAa,QAAS,8BACjEX,MAAMC,KAAKC,SAASC,uBAAuB,gBAAgBC,QAAQ,SAAAU,GAC/DA,OAAAA,EAAGf,iBAAiB,QAAS,WACzBG,SAASQ,eAAe,mBAAmBC,aAAa,QAAS,SACjET,SAASQ,eAAe,uBAAuBC,aAAa,QAAS,eAT7ET,SAASQ,eAAe,iBAAiBC,aAAa,QAAS,mBAC/DT,SAASQ,eAAe,WAAWE,MAAMC,QAAU,IAYvDR,EAAKU,UAAUC,IAAI,mBAEvB,KAGRd,SAASC,uBAAuB,iBAAiB,GAAGJ,iBAAiB,QAAS,WAC1EG,SAASQ,eAAe,uBAAuBC,aAAa,QAAS,gCAEzET,SAASQ,eAAe,WAAWX,iBAAiB,QAAS,WACzDkB,aAAaC,WAAW,kBACxBpB,OAAOqB,KACoBxB,uBAAAA,OAAAA,EAAmBO,SAASQ,eAAe,iBAAiBU,OACnF,qBAAA,YAGRlB,SAASQ,eAAe,WAAWX,iBAAiB,QAAS,WACzDkB,aAAaC,WAAW,kBACxBpB,OAAOqB,KACoBxB,uBAAAA,OAAAA,EAAmBO,SAASQ,eAAe,iBAAiBU,OACnF,qBAAA","file":"setup-form-validator.4fe408d0.js","sourceRoot":"../src","sourcesContent":["const uuidFromWebcalLink = link =>\n    link.match(/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(?=\\.ics)/g);\nwindow.addEventListener('load', () => {\n    Array.from(document.getElementsByClassName('needs-validation')).forEach(form =>\n        form.addEventListener(\n            'submit',\n            event => {\n                event.preventDefault();\n                event.stopPropagation();\n                if (!form.checkValidity()) {\n                    document.getElementById('allClassesUrl').setAttribute('class', 'input is-danger');\n                    document.getElementById('invalid').style.display = '';\n                } else {\n                    document.getElementById('allClassesUrl').setAttribute('class', 'input is-success');\n                    document.getElementById('invalid').style.display = 'none';\n                    document.getElementById('disclaimerModal').setAttribute('class', 'modal is-active is-clipped');\n                    Array.from(document.getElementsByClassName('close-modal')).forEach(el =>\n                        el.addEventListener('click', () => {\n                            document.getElementById('disclaimerModal').setAttribute('class', 'modal');\n                            document.getElementById('schoolSelectorModal').setAttribute('class', 'modal');\n                        })\n                    );\n                }\n                form.classList.add('was-validated');\n            },\n            false\n        )\n    );\n    document.getElementsByClassName('generate-link')[0].addEventListener('click', () => {\n        document.getElementById('schoolSelectorModal').setAttribute('class', 'modal is-active is-clipped');\n    });\n    document.getElementById('ms-link').addEventListener('click', () => {\n        localStorage.removeItem('scheduleEvents');\n        window.open(\n            `./schedule.html?cal=${uuidFromWebcalLink(document.getElementById('allClassesUrl').value)}&schooldiv=ms#new`,\n            '_blank'\n        );\n    });\n    document.getElementById('us-link').addEventListener('click', () => {\n        localStorage.removeItem('scheduleEvents');\n        window.open(\n            `./schedule.html?cal=${uuidFromWebcalLink(document.getElementById('allClassesUrl').value)}&schooldiv=us#new`,\n            '_blank'\n        );\n    });\n});\n"]}